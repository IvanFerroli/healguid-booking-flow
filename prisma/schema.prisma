generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Practitioner {
  id                       Int       @id @default(autoincrement())
  name                     String
  title                    String?
  imageUrl                 String
  shortBio                 String
  longBio                  String
  tags                     String    @default("[]")
  country                  String
  city                     String?
  consultationType         String
  languages                String    @default("[]")
  experienceYears          Int
  hourlyRate               Int
  satisfactionScore        Float
  successfulSessions       String
  memberSince              DateTime
  professionalAssociations String    @default("[]")
  eventTypeId              String
  basePrice                Int
  bookings                 Booking[]
}

model Booking {
  id              Int          @id @default(autoincrement())
  practitionerId  Int
  slot            DateTime
  name            String
  email           String
  phone           String
  status          String
  stripeSessionId String?
  createdAt       DateTime     @default(now())
  updatedAt       DateTime     @updatedAt
  practitioner    Practitioner @relation(fields: [practitionerId], references: [id])
}

model StripeWebhookEvent {
  id        String   @id
  type      String
  createdAt DateTime @default(now())
}
